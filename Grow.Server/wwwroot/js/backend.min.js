function create_search_entity_function(n,t){var r,u="/Admin/Api/"+n,i=$("#"+t);return n=>{var t=n.target,e=$(t).val(),f=$.now(),o=n=>{$("input, select").each((t,i)=>{var r=$(i).attr("name");r&&(r=r.substring(0,1).toLowerCase()+r.substring(1),r!=="isActive")&&(n[r]&&$(i).val(n[r]),$(i).attr("type")==="checkbox"&&$(i).prop("checked",n[r]))})},s=n=>{debug=n;$(t).removeClass("loading");var r=i.attr("output-version");r!==undefined&&r>f||($(i).show(),i.attr("output-version",f),i.html("<li disabled>-- Select or search again --<\/li>"),n.forEach(n=>{var r=n.name,t;r+=" (created at "+n.createdAt.substring(0,10)+")";t=document.createElement("li");t.innerHTML=r;t.addEventListener("click",()=>o(n));i.append(t)}))},h=()=>{$(t).removeClass("loading");var n="Error fetching entities via AJAX";console.log(n);i.append("<li>"+n+"<\/li>")};clearTimeout(r);r=setTimeout(()=>{$(t).addClass("loading"),$.get(u,{search:e},s).fail(h)},2e3)}}$(document).ready(function(){var n=$("#contest-selector");n.change(function(){var t=n.children("option:selected").val();$.post("/Admin/Home/SetYear",{year:t},function(){location.reload()})})});var debug;